# 규칙매핑표 버전 관리

## rule_mapping_v1.csv → rule_mapping_v2.csv 변경 
| 구분           | 내용                                                                                                                                                             |
| ------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **컬럼 추가**    | `search_query`, `search_url`                                                                                                                                   |
| **의미**       | 백엔드에서 Spotify 검색 시 자동 호출 가능한 문자열(`search_query`)과 URL(`search_url`)이 추가됨                                                                                       |
| **기존 컬럼 유지** | `location`, `db_band`, `goal`, `bpm_min`, `bpm_max`, `energy_min`, `energy_max`, `mood`, `genre_primary`, `genre_secondary`, `vocal`, `playlist_seed`, `notes` |
| **주요 개선**    | 검색 자동화 필드 추가                             |

*비교*
| 버전     | location | db_band | goal   | bpm_min | bpm_max | energy_min | energy_max | mood | genre_primary | genre_secondary | vocal       | playlist_seed   | search_query                                | search_url                                                                              |
| ------ | -------- | ------- | ------ | ------- | ------- | ---------- | ---------- | ---- | ------------- | --------------- | ----------- | --------------- | ------------------------------------------- | --------------------------------------------------------------------------------------- |
| **v1** | library  | 0–35    | active | 105     | 115     | 0.60       | 0.75       | calm | pop           | edm             | light-vocal | Calm Pop Active | *(없음)*                                      | *(없음)*                                                                                  |
| **v2** | library  | 0–35    | active | 105     | 115     | 0.60       | 0.75       | calm | pop           | edm             | light-vocal | Calm Pop Active | `pop edm active calm energetic 105–115 bpm` | `https://open.spotify.com/search/pop%20edm%20active%20calm%20energetic%20105-115%20bpm` |


---

## rule_mapping_v2.csv → rule_mapping_v2.5.csv 변경

| 구분                         | 내용                                                    |
| -------------------------- | ----------------------------------------------------- |
| **문자열 보강**                 | `search_query`에 `"workout music"` 키워드 추가 → 검색 품질 향상   |
| **주요 개선**    | 검색 키워드 고도화 (스포티파이 맞춤)           |

*비교*
| 버전       | location | db_band | goal   | bpm_min | bpm_max | energy_min | energy_max | mood | genre_primary | genre_secondary | vocal       | playlist_seed   | search_query                                       | search_url                                                                                       |
| -------- | -------- | ------- | ------ | ------- | ------- | ---------- | ---------- | ---- | ------------- | --------------- | ----------- | --------------- | -------------------------------------------------- | ------------------------------------------------------------------------------------------------ |
| **v2**   | library  | 0–35    | active | 105     | 115     | 0.60       | 0.75       | calm | pop           | edm             | light-vocal | Calm Pop Active | `pop edm active calm energetic 105–115 bpm`        | `https://open.spotify.com/search/pop%20edm%20active%20calm%20energetic%20105-115%20bpm`          |
| **v2.5** | library  | 0–35    | active | 105     | 115     | 0.60       | 0.75       | calm | pop           | edm             | light-vocal | Calm Pop Active | `pop edm calm energetic workout music 105–115 bpm` | `https://open.spotify.com/search/pop%20edm%20calm%20energetic%20workout%20music%20105-115%20bpm` |
